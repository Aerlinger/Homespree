!function(){var e,t,i,n,r,s,o,a,l,c,u,h,d,p,f,m,g,v,y,b,w,_,x,k,C,T,S,M,E,A,I,P,D,j,F,N,H,L,O,z,R,$,B,W,Q={}.hasOwnProperty,U=[].indexOf||function(e){for(var t=0,i=this.length;i>t;t++)if(t in this&&this[t]===e)return t;return-1};b=!1,u=null,M=document.location.href,_=null,T={},l=null,N=(null!=(W=document.cookie.match(/request_method=(\w+)/))?W[1].toUpperCase():void 0)||"",B=null,$=function(e){return r&&n?(s(),E(e),m(e)):document.location.href=e},m=function(e){var t;return z("page:fetch"),t=j(e),null!=B&&B.abort(),B=new XMLHttpRequest,B.open("GET",t,!0),B.setRequestHeader("Accept","text/html, application/xhtml+xml, application/xml"),B.setRequestHeader("X-XHR-Referer",M),B.onload=function(){var e;return z("page:receive"),(e=R())?(o.apply(null,p(e)),A(),document.location.hash?document.location.href=document.location.href:L(),z("page:load")):void 0},B.onloadend=function(){return B=null},B.onabort=function(){return P()},B.onerror=function(){return document.location.href=e},B.send()},f=function(e){var t;return s(),(t=T[e.position])?(null!=B&&B.abort(),o(t.title,t.body),S(t),z("page:restore")):m(document.location.href)},s=function(){return D(),T[u.position]={url:document.location.href,body:document.body,title:document.title,positionY:window.pageYOffset,positionX:window.pageXOffset},a(10)},a=function(e){var t,i;for(t in T)Q.call(T,t)&&(i=T[t],t<=u.position-e&&(T[t]=null))},o=function(t,i,n,r){return document.title=t,document.documentElement.replaceChild(i,document.body),null!=n&&e.update(n),F(),r&&h(),u=window.history.state,z("page:change")},h=function(){var e,t,i,n,r,s,o,a,l,c,u,h;for(s=Array.prototype.slice.call(document.body.querySelectorAll('script:not([data-turbolinks-eval="false"])')),o=0,l=s.length;l>o;o++)if(r=s[o],""===(u=r.type)||"text/javascript"===u){for(t=document.createElement("script"),h=r.attributes,a=0,c=h.length;c>a;a++)e=h[a],t.setAttribute(e.name,e.value);t.appendChild(document.createTextNode(r.innerHTML)),n=r.parentNode,i=r.nextSibling,n.removeChild(r),n.insertBefore(t,i)}},F=function(){var e,t,i,n;for(t=Array.prototype.slice.call(document.body.getElementsByTagName("noscript")),i=0,n=t.length;n>i;i++)e=t[i],e.parentNode.removeChild(e)},E=function(e){return e!==document.location.href?(M=document.location.href,window.history.pushState({turbolinks:!0,position:u.position+1},"",e)):void 0},A=function(){var e,t;return(e=B.getResponseHeader("X-XHR-Redirected-To"))?(t=j(e)===e?document.location.hash:"",window.history.replaceState(u,"",e+t)):void 0},P=function(){return window.history.replaceState({turbolinks:!0,position:Date.now()},"",document.location.href)},I=function(){return u=window.history.state},D=function(){return b?void 0:(P(),I(),l=i(),b=!0)},S=function(e){return window.scrollTo(e.positionX,e.positionY)},L=function(){return window.scrollTo(0,0)},j=function(e){var t;return t=e,null==e.href&&(t=document.createElement("A"),t.href=e),t.href.replace(t.hash,"")},z=function(e){var t;return t=document.createEvent("Events"),t.initEvent(e,!0,!0),document.dispatchEvent(t)},R=function(){var e,t,i,n,r,s,o;return t=function(){var e;return 400<=(e=B.status)&&600>e},s=function(){return!B.getResponseHeader("Content-Type").match(/^(?:text\/html|application\/xhtml\+xml|application\/xml)(?:;|$)/)},n=function(e){var t,i,n,r,s;for(r=e.head.childNodes,s=[],i=0,n=r.length;n>i;i++)t=r[i],null!=("function"==typeof t.getAttribute?t.getAttribute("data-turbolinks-track"):void 0)&&s.push(t.src||t.href);return s},e=function(e){var t;return _||(_=n(document)),t=n(e),t.length!==_.length||r(t,_).length!==_.length},r=function(e,t){var i,n,r,s,o;for(e.length>t.length&&(s=[t,e],e=s[0],t=s[1]),o=[],n=0,r=e.length;r>n;n++)i=e[n],U.call(t,i)>=0&&o.push(i);return o},t()?(o=document.location.href,window.history.replaceState(null,"","#"),window.location.replace(o),!1):s()||e(i=l(B.responseText))?(window.location.reload(),!1):i},p=function(t){var i;return i=t.querySelector("title"),[null!=i?i.textContent:void 0,t.body,e.get(t).token,"runScripts"]},e={get:function(e){var t;return null==e&&(e=document),{node:t=e.querySelector('meta[name="csrf-token"]'),token:null!=t?"function"==typeof t.getAttribute?t.getAttribute("content"):void 0:void 0}},update:function(e){var t;return t=this.get(),null!=t.token&&null!=e&&t.token!==e?t.node.setAttribute("content",e):void 0}},i=function(){var e,t,i,n,r,s;t=function(e){return(new DOMParser).parseFromString(e,"text/html")},e=function(e){var t;return t=document.implementation.createHTMLDocument(""),t.documentElement.innerHTML=e,t},i=function(e){var t;return t=document.implementation.createHTMLDocument(""),t.open("replace"),t.write(e),t.close(),t};try{if(window.DOMParser)return r=t("<html><body><p>test"),t}catch(o){return n=o,r=e("<html><body><p>test"),e}finally{if(1!==(null!=r?null!=(s=r.body)?s.childNodes.length:void 0:void 0))return i}},w=function(e){return e.defaultPrevented?void 0:(document.removeEventListener("click",g,!1),document.addEventListener("click",g,!1))},g=function(e){var t;return e.defaultPrevented||(t=d(e),"A"!==t.nodeName||v(e,t))?void 0:($(t.href),e.preventDefault())},d=function(e){var t;for(t=e.target;t.parentNode&&"A"!==t.nodeName;)t=t.parentNode;return t},c=function(e){return location.protocol!==e.protocol||location.host!==e.host},t=function(e){return(e.hash&&j(e))===j(location)||e.href===location.href+"#"},k=function(e){var t;return t=j(e),t.match(/\.[a-z]+(\?.*)?$/g)&&!t.match(/\.html?(\?.*)?$/g)},x=function(e){for(var t;!t&&e!==document;)t=null!=e.getAttribute("data-no-turbolink"),e=e.parentNode;return t},O=function(e){return 0!==e.target.length},C=function(e){return e.which>1||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey},v=function(e,i){return c(i)||t(i)||k(i)||x(i)||O(i)||C(e)},y=function(){return document.addEventListener("click",w,!0),window.addEventListener("popstate",function(e){var t;return(null!=(t=e.state)?t.turbolinks:void 0)?f(e.state):void 0},!1)},r=window.history&&window.history.pushState&&window.history.replaceState&&void 0!==window.history.state,n=!navigator.userAgent.match(/CriOS\//),H="GET"===N||""===N,r&&n&&H&&y(),this.Turbolinks={visit:$}}.call(this);