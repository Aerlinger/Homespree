(function(t,e){"object"==typeof exports?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t)})(this,function(t){function e(t){this._targetElement=t,this._options={nextLabel:"Next &rarr;",prevLabel:"&larr; Back",skipLabel:"Skip",tooltipPosition:"bottom"}}function i(){"undefined"==typeof this._currentStep?this._currentStep=0:++this._currentStep,this._introItems.length<=this._currentStep?("function"==typeof this._introCompleteCallback&&this._introCompleteCallback.call(this),s.call(this,this._targetElement)):a.call(this,this._introItems[this._currentStep].element)}function n(){return 0===this._currentStep?!1:(a.call(this,this._introItems[--this._currentStep].element),void 0)}function s(t){var e=t.querySelector(".introjs-overlay");e.style.opacity=0,setTimeout(function(){e.parentNode&&e.parentNode.removeChild(e)},500),(t=t.querySelector(".introjs-helperLayer"))&&t.parentNode.removeChild(t),(t=document.querySelector(".introjs-showElement"))&&(t.className=t.className.replace(/introjs-[a-zA-Z]+/g,"").replace(/^\s+|\s+$/g,"")),window.removeEventListener?window.removeEventListener("keydown",this._onKeyDown,!0):document.detachEvent&&document.detachEvent("onkeydown",this._onKeyDown),this._currentStep=void 0,void 0!=this._introExitCallback&&this._introExitCallback.call(this)}function o(t,e,i){if(t=l(e),e.style.top=null,e.style.right=null,e.style.bottom=null,e.style.left=null,this._introItems[this._currentStep])switch(this._introItems[this._currentStep].position){case"top":e.style.left="15px",e.style.top="-"+(t.height+10)+"px",i.className="introjs-arrow bottom";break;case"right":e.style.right="-"+(t.width+10)+"px",i.className="introjs-arrow left";break;case"left":e.style.top="15px",e.style.left="-"+(t.width+10)+"px",i.className="introjs-arrow right";break;default:e.style.bottom="-"+(t.height+10)+"px",i.className="introjs-arrow top"}}function a(t){var e;"undefined"!=typeof this._introChangeCallback&&this._introChangeCallback.call(this,t);var a=this,r=document.querySelector(".introjs-helperLayer"),c=l(t);if(null!=r){var h=r.querySelector(".introjs-helperNumberLayer"),u=r.querySelector(".introjs-tooltiptext"),d=r.querySelector(".introjs-arrow"),p=r.querySelector(".introjs-tooltip");p.style.opacity=0,r.setAttribute("style","width: "+(c.width+10)+"px; height:"+(c.height+10)+"px; top:"+(c.top-5)+"px;left: "+(c.left-5)+"px;"),r=document.querySelector(".introjs-showElement"),r.className=r.className.replace(/introjs-[a-zA-Z]+/g,"").replace(/^\s+|\s+$/g,""),a._lastShowElementTimer&&clearTimeout(a._lastShowElementTimer),a._lastShowElementTimer=setTimeout(function(){h.innerHTML=t.getAttribute("data-step"),u.innerHTML=t.getAttribute("data-intro"),o.call(a,t,p,d),p.style.opacity=1},350)}else{var f=document.createElement("div"),m=document.createElement("span"),r=document.createElement("div");e=document.createElement("div"),f.className="introjs-helperLayer",f.setAttribute("style","width: "+(c.width+10)+"px; height:"+(c.height+10)+"px; top:"+(c.top-5)+"px;left: "+(c.left-5)+"px;"),this._targetElement.appendChild(f),m.className="introjs-helperNumberLayer",r.className="introjs-arrow",e.className="introjs-tooltip",m.innerHTML=t.getAttribute("data-step"),e.innerHTML='<div class="introjs-tooltiptext">'+t.getAttribute("data-intro")+'</div><div class="introjs-tooltipbuttons"></div>',f.appendChild(m),e.appendChild(r),f.appendChild(e),c=document.createElement("a"),c.onclick=function(){i.call(a)},c.className="introjs-button introjs-nextbutton",c.href="javascript:void(0);",c.innerHTML=this._options.nextLabel,f=document.createElement("a"),f.onclick=function(){n.call(a)},f.className="introjs-button introjs-prevbutton",f.href="javascript:void(0);",f.innerHTML=this._options.prevLabel,m=document.createElement("a"),m.className="introjs-button introjs-skipbutton",m.href="javascript:void(0);",m.innerHTML=this._options.skipLabel,m.onclick=function(){s.call(a,a._targetElement)};var g=e.querySelector(".introjs-tooltipbuttons");g.appendChild(m),g.appendChild(f),g.appendChild(c),o.call(a,t,e,r)}t.className+=" introjs-showElement",r="",t.currentStyle?r=t.currentStyle.position:document.defaultView&&document.defaultView.getComputedStyle&&(r=document.defaultView.getComputedStyle(t,null).getPropertyValue("position")),r=r.toLowerCase(),"absolute"!==r&&"relative"!==r&&(t.className+=" introjs-relativePosition"),r=t.getBoundingClientRect(),r.top>=0&&r.left>=0&&r.bottom+80<=window.innerHeight&&r.right<=window.innerWidth||(e=t.getBoundingClientRect(),r=e.bottom-(e.bottom-e.top),c=e.bottom,e=void 0!=window.innerWidth?window.innerHeight:document.documentElement.clientHeight,e=c-e,0>r?window.scrollBy(0,r-30):window.scrollBy(0,e+100))}function r(t){var e=document.createElement("div"),i="",n=this;if(e.className="introjs-overlay","body"===t.tagName.toLowerCase())i+="top: 0;bottom: 0; left: 0;right: 0;position: fixed;",e.setAttribute("style",i);else{var o=l(t);o&&(i+="width: "+o.width+"px; height:"+o.height+"px; top:"+o.top+"px;left: "+o.left+"px;",e.setAttribute("style",i))}return t.appendChild(e),e.onclick=function(){s.call(n,t)},setTimeout(function(){i+="opacity: .5;",e.setAttribute("style",i)},10),!0}function l(t){var e={};e.width=t.offsetWidth,e.height=t.offsetHeight;for(var i=0,n=0;t&&!isNaN(t.offsetLeft)&&!isNaN(t.offsetTop);)i+=t.offsetLeft,n+=t.offsetTop,t=t.offsetParent;return e.top=n,e.left=i,e}var c=function(t){if("object"==typeof t)return new e(t);if("string"==typeof t){if(t=document.querySelector(t))return new e(t);throw Error("There is no element with given selector.")}return new e(document.body)};return c.version="0.3.0",c.fn=e.prototype={clone:function(){return new e(this)},setOption:function(t,e){return this._options[t]=e,this},setOptions:function(t){var e,i=this._options,n={};for(e in i)n[e]=i[e];for(e in t)n[e]=t[e];return this._options=n,this},start:function(){var t=this._targetElement,e=t.querySelectorAll("*[data-intro]"),o=[],a=this;if(!(1>e.length)){for(var l=0,c=e.length;c>l;l++){var h=e[l];o.push({element:h,intro:h.getAttribute("data-intro"),step:parseInt(h.getAttribute("data-step"),10),position:h.getAttribute("data-position")||this._options.tooltipPosition})}o.sort(function(t,e){return t.step-e.step}),a._introItems=o,r.call(a,t)&&(i.call(a),t.querySelector(".introjs-skipbutton"),t.querySelector(".introjs-nextbutton"),a._onKeyDown=function(e){27===e.keyCode?s.call(a,t):37===e.keyCode?n.call(a):(39===e.keyCode||13===e.keyCode)&&i.call(a)},window.addEventListener?window.addEventListener("keydown",a._onKeyDown,!0):document.attachEvent&&document.attachEvent("onkeydown",a._onKeyDown))}return this},goToStep:function(t){return this._currentStep=t-2,"undefined"!=typeof this._introItems&&i.call(this),this},exit:function(){s.call(this,this._targetElement)},onchange:function(t){if("function"!=typeof t)throw Error("Provided callback for onchange was not a function.");return this._introChangeCallback=t,this},oncomplete:function(t){if("function"!=typeof t)throw Error("Provided callback for oncomplete was not a function.");return this._introCompleteCallback=t,this},onexit:function(t){if("function"!=typeof t)throw Error("Provided callback for onexit was not a function.");return this._introExitCallback=t,this}},t.introJs=c});