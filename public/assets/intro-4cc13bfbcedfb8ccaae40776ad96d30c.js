/**
 * Intro.js v0.4.0
 * https://github.com/usablica/intro.js
 * MIT licensed
 *
 * Copyright (C) 2013 usabli.ca - A weekend project by Afshin Mehrabani (@afshinmeh)
 */
(function(t,e){"object"==typeof exports?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t)})(this,function(t){function e(t){this._targetElement=t,this._options={nextLabel:"Continue &rarr;",skipLabel:"Skip",doneLabel:"Finish",tooltipPosition:"top",exitOnEsc:!1,exitOnOverlayClick:!1,showStepNumbers:!1}}function i(t){var e=[],i=this;if(this._options.steps)for(var n=[],o=0,r=this._options.steps.length;r>o;o++){var c=this._options.steps[o];c.step=o+1,c.element=document.querySelector(c.element),e.push(c)}else{var n=t.querySelectorAll("*[data-intro]");if(1>n.length)return!1;for(var o=0,h=n.length;h>o;o++){var u=n[o];e.push({element:u,intro:u.getAttribute("data-intro"),step:parseInt(u.getAttribute("data-step"),10),position:u.getAttribute("data-position")||this._options.tooltipPosition})}}return e.sort(function(t,e){return t.step-e.step}),i._introItems=e,p.call(i,t)&&(s.call(i),t.querySelector(".introjs-skipbutton"),t.querySelector(".introjs-nextbutton"),i._onKeyDown=function(e){27===e.keyCode&&1==i._options.exitOnEsc?(a.call(i,t),void 0!=i._introExitCallback&&i._introExitCallback.call(i)):(39===e.keyCode||13===e.keyCode)&&(s.call(i),e.preventDefault?e.preventDefault():e.returnValue=!1)},i._onResize=function(){l.call(i,document.querySelector(".introjs-helperLayer"))},window.addEventListener?(window.addEventListener("keydown",i._onKeyDown,!0),window.addEventListener("resize",i._onResize,!0)):document.attachEvent&&(document.attachEvent("onkeydown",i._onKeyDown),document.attachEvent("onresize",i._onResize))),!1}function n(t){this._currentStep=t-2,"undefined"!=typeof this._introItems&&s.call(this)}function s(){return"undefined"!=typeof this._introBeforeChangeCallback&&this._introBeforeChangeCallback.call(this,this._targetElement),"undefined"==typeof this._currentStep?this._currentStep=0:++this._currentStep,this._introItems.length<=this._currentStep?("function"==typeof this._introCompleteCallback&&this._introCompleteCallback.call(this),a.call(this,this._targetElement),void 0):(c.call(this,this._introItems[this._currentStep]),void 0)}function o(){return 0===this._currentStep?!1:("undefined"!=typeof this._introBeforeChangeCallback&&this._introBeforeChangeCallback.call(this,this._targetElement),c.call(this,this._introItems[--this._currentStep]),void 0)}function a(t){var e=t.querySelector(".introjs-overlay");e.style.opacity=0,setTimeout(function(){e.parentNode&&e.parentNode.removeChild(e)},500);var i=t.querySelector(".introjs-helperLayer");i&&i.parentNode.removeChild(i);var n=document.querySelector(".introjs-showElement");n&&(n.className=n.className.replace(/introjs-[a-zA-Z]+/g,"").replace(/^\s+|\s+$/g,""));var s=document.querySelectorAll(".introjs-fixParent");if(s&&s.length>0)for(var o=s.length-1;o>=0;o--)s[o].className=s[o].className.replace(/introjs-fixParent/g,"").replace(/^\s+|\s+$/g,"");window.removeEventListener?window.removeEventListener("keydown",this._onKeyDown,!0):document.detachEvent&&document.detachEvent("onkeydown",this._onKeyDown),this._currentStep=void 0}function r(t,e,i){if(e.style.top=null,e.style.right=null,e.style.bottom=null,e.style.left=null,this._introItems[this._currentStep]){var n=this._introItems[this._currentStep].position;switch(n){case"top":e.style.left="15px",e.style.top="-"+(f(e).height+10)+"px",i.className="introjs-arrow bottom";break;case"right":e.style.left=f(t).width+20+"px",i.className="introjs-arrow left";break;case"left":e.style.top="15px",e.style.right=f(t).width+20+"px",i.className="introjs-arrow right";break;case"bottom":default:e.style.bottom="-"+(f(e).height+10)+"px",i.className="introjs-arrow top"}}}function l(t){if(t){if(!this._introItems[this._currentStep])return;var e=f(this._introItems[this._currentStep].element);t.setAttribute("style","width: "+(e.width+10)+"px; "+"height:"+(e.height+10)+"px; "+"top:"+(e.top-5)+"px;"+"left: "+(e.left-5)+"px;")}}function c(t){"undefined"!=typeof this._introChangeCallback&&this._introChangeCallback.call(this,t.element);var e=this,i=document.querySelector(".introjs-helperLayer");if(f(t.element),null!=i){var n=i.querySelector(".introjs-helperNumberLayer"),c=i.querySelector(".introjs-tooltiptext"),p=i.querySelector(".introjs-arrow"),g=i.querySelector(".introjs-tooltip"),m=i.querySelector(".introjs-skipbutton"),v=i.querySelector(".introjs-nextbutton");g.style.opacity=0,l.call(e,i);var y=document.querySelectorAll(".introjs-fixParent");if(y&&y.length>0)for(var b=y.length-1;b>=0;b--)y[b].className=y[b].className.replace(/introjs-fixParent/g,"").replace(/^\s+|\s+$/g,"");var _=document.querySelector(".introjs-showElement");_.className=_.className.replace(/introjs-[a-zA-Z]+/g,"").replace(/^\s+|\s+$/g,""),e._lastShowElementTimer&&clearTimeout(e._lastShowElementTimer),e._lastShowElementTimer=setTimeout(function(){null!=n&&(n.innerHTML=t.step),c.innerHTML=t.intro,r.call(e,t.element,g,p),g.style.opacity=1},350)}else{var w=document.createElement("div"),x=document.createElement("div"),k=document.createElement("div");if(w.className="introjs-helperLayer",l.call(e,w),this._targetElement.appendChild(w),x.className="introjs-arrow",k.className="introjs-tooltip",k.innerHTML='<div class="introjs-tooltiptext">'+t.intro+'</div><div class="introjs-tooltipbuttons"></div>',this._options.showStepNumbers){var C=document.createElement("span");C.className="introjs-helperNumberLayer",C.innerHTML=t.step,w.appendChild(C)}k.appendChild(x),w.appendChild(k);var v=document.createElement("a");v.onclick=function(){e._introItems.length-1!=e._currentStep&&s.call(e)},v.href="javascript:void(0);",v.innerHTML=this._options.nextLabel;var T=document.createElement("a");T.onclick=function(){0!=e._currentStep&&o.call(e)},T.href="javascript:void(0);",T.innerHTML=this._options.prevLabel;var m=document.createElement("a");m.className="introjs-button introjs-skipbutton",m.href="javascript:void(0);",m.innerHTML=this._options.skipLabel,m.onclick=function(){e._introItems.length-1==e._currentStep&&"function"==typeof e._introCompleteCallback&&e._introCompleteCallback.call(e),e._introItems.length-1!=e._currentStep&&"function"==typeof e._introExitCallback&&e._introExitCallback.call(e),a.call(e,e._targetElement)};var A=k.querySelector(".introjs-tooltipbuttons");A.appendChild(m),A.appendChild(v),r.call(e,t.element,k,x)}0==this._currentStep?(v.className="introjs-button introjs-nextbutton",m.innerHTML=this._options.skipLabel):this._introItems.length-1==this._currentStep?(m.innerHTML=this._options.doneLabel,v.className="introjs-button introjs-nextbutton introjs-disabled"):(v.className="introjs-button introjs-nextbutton",m.innerHTML=this._options.skipLabel),v.focus(),t.element.className+=" introjs-showElement";var D=h(t.element,"position");"absolute"!==D&&"relative"!==D&&(t.element.className+=" introjs-relativePosition");for(var E=t.element.parentNode;null!=E&&"body"!==E.tagName.toLowerCase();){var S=h(E,"z-index");/[0-9]+/.test(S)&&(E.className+=" introjs-fixParent"),E=E.parentNode}if(!d(t.element)){var P=t.element.getBoundingClientRect(),I=P.bottom-(P.bottom-P.top),M=P.bottom-u().height;0>I?window.scrollBy(0,I-120):window.scrollBy(0,M+190)}}function h(t,e){var i="";return t.currentStyle?i=t.currentStyle[e]:document.defaultView&&document.defaultView.getComputedStyle&&(i=document.defaultView.getComputedStyle(t,null).getPropertyValue(e)),i.toLowerCase?i.toLowerCase():i}function u(){if(void 0!=window.innerWidth)return{width:window.innerWidth,height:window.innerHeight};var t=document.documentElement;return{width:t.clientWidth,height:t.clientHeight}}function d(t){var e=t.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom+80<=window.innerHeight&&e.right<=window.innerWidth}function p(t){var e=document.createElement("div"),i="",n=this;if(e.className="introjs-overlay","body"===t.tagName.toLowerCase())i+="top: 0;bottom: 0; left: 0;right: 0;position: fixed;",e.setAttribute("style",i);else{var s=f(t);s&&(i+="width: "+s.width+"px; height:"+s.height+"px; top:"+s.top+"px;left: "+s.left+"px;",e.setAttribute("style",i))}return t.appendChild(e),e.onclick=function(){1==n._options.exitOnOverlayClick&&a.call(n,t),void 0!=n._introExitCallback&&n._introExitCallback.call(n)},setTimeout(function(){i+="opacity: .8;",e.setAttribute("style",i)},10),!0}function f(t){var e={};e.width=t.offsetWidth,e.height=t.offsetHeight;for(var i=0,n=0;t&&!isNaN(t.offsetLeft)&&!isNaN(t.offsetTop);)i+=t.offsetLeft,n+=t.offsetTop,t=t.offsetParent;return e.top=n,e.left=i,e}function g(t,e){var i={};for(var n in t)i[n]=t[n];for(var n in e)i[n]=e[n];return i}var m="0.4.0",v=function(t){if("object"==typeof t)return new e(t);if("string"==typeof t){var i=document.querySelector(t);if(i)return new e(i);throw new Error("There is no element with given selector.")}return new e(document.body)};return v.version=m,v.fn=e.prototype={clone:function(){return new e(this)},setOption:function(t,e){return this._options[t]=e,this},setOptions:function(t){return this._options=g(this._options,t),this},start:function(){return i.call(this,this._targetElement),this},goToStep:function(t){return n.call(this,t),this},exit:function(){a.call(this,this._targetElement)},onbeforechange:function(t){if("function"!=typeof t)throw new Error("Provided callback for onbeforechange was not a function");return this._introBeforeChangeCallback=t,this},onchange:function(t){if("function"!=typeof t)throw new Error("Provided callback for onchange was not a function.");return this._introChangeCallback=t,this},oncomplete:function(t){if("function"!=typeof t)throw new Error("Provided callback for oncomplete was not a function.");return this._introCompleteCallback=t,this},onexit:function(t){if("function"!=typeof t)throw new Error("Provided callback for onexit was not a function.");return this._introExitCallback=t,this}},t.introJs=v,v});