(function(){this.Mercury.Toolbar.ButtonGroup=function(){function e(e,t){return this.name=e,this.options=t!=null?t:{},this.build(),this.bindEvents(),this.regions=this.options._regions,this.element}return e.prototype.build=function(){this.element=jQuery("<div>",{"class":"mercury-button-group mercury-"+this.name+"-group"});if(this.options._context||this.options._regions)return this.element.addClass("disabled")},e.prototype.bindEvents=function(){var e=this;return Mercury.on("region:update",function(t,n){var r,i;r=Mercury.Toolbar.ButtonGroup.contexts[e.name];if(r&&n.region&&jQuery.type(n.region.currentElement)==="function")return i=n.region.currentElement(),i.length&&r.call(e,i,n.region.element)?e.element.removeClass("disabled"):e.element.addClass("disabled")}),Mercury.on("region:focused",function(t,n){if(e.regions&&n.region&&n.region.type()){if(!(e.regions.indexOf(n.region.type())>-1))return e.element.addClass("disabled");if(!e.options._context)return e.element.removeClass("disabled")}}),Mercury.on("region:blurred",function(t,n){if(e.options.regions)return e.element.addClass("disabled")})},e}(),this.Mercury.Toolbar.ButtonGroup.contexts={table:function(e,t){return!!e.closest("table",t).length}}}).call(this);