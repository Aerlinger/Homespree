!function(){this.Mercury.tooltip=function(e,t,i){return null==i&&(i={}),Mercury.tooltip.show(e,t,i),Mercury.tooltip},jQuery.extend(Mercury.tooltip,{show:function(e,t,i){return this.forElement=e,this.content=t,this.options=null!=i?i:{},this.document=this.forElement.get(0).ownerDocument,this.initialize(),this.visible?this.update():this.appear()},initialize:function(){return this.initialized?void 0:(this.build(),this.bindEvents(),this.initialized=!0)},build:function(){var e;return this.element=jQuery("<div>",{"class":"mercury-tooltip"}),this.element.appendTo(null!=(e=jQuery(this.options.appendTo).get(0))?e:"body")},bindEvents:function(){var e,t,i,n,r=this;for(Mercury.on("resize",function(){return r.visible?r.position():void 0}),this.element.on("mousedown",function(e){return e.preventDefault(),e.stopPropagation()}),n=this.forElement.parentsUntil(jQuery("body",this.document)),t=0,i=n.length;i>t;t++)e=n[t],e.scrollHeight>e.clientHeight&&jQuery(e).on("scroll",function(){return r.visible?r.position():void 0});return jQuery(this.document).on("scroll",function(){return r.visible?r.position():void 0})},appear:function(){var e=this;return this.update(),this.element.show(),this.element.animate({opacity:1},200,"easeInOutSine",function(){return e.visible=!0})},update:function(){return this.element.html(this.content),this.position()},position:function(){var e,t,i,n;return t=this.forElement.offset(),n=this.element.width(),i=t.top+(Mercury.displayRect.top-jQuery(this.document).scrollTop())+this.forElement.outerHeight(),e=t.left-jQuery(this.document).scrollLeft(),e+n+25>Mercury.displayRect.width&&(e=e-(e+n+25)-Mercury.displayRect.width),e=0>=e?0:e,this.element.css({top:i,left:e})},hide:function(){return this.initialized?(this.element.hide(),this.visible=!1):void 0}})}.call(this);