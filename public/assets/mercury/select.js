(function(){var e={}.hasOwnProperty,t=function(t,n){function i(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return i.prototype=n.prototype,t.prototype=new i,t.__super__=n.prototype,t};this.Mercury.Select=function(e){function n(e,t,r){this.url=e,this.name=t,this.options=r!=null?r:{},n.__super__.constructor.apply(this,arguments)}return t(n,e),n.prototype.build=function(){var e;return this.element=jQuery("<div>",{"class":"mercury-select mercury-"+this.name+"-select loading",style:"display:none"}),this.element.appendTo((e=jQuery(this.options.appendTo).get(0))!=null?e:"body")},n.prototype.bindEvents=function(){var e=this;return Mercury.on("hide:dialogs",function(t,n){if(n!==e)return e.hide()}),this.element.on("mousedown",function(e){return e.preventDefault()}),n.__super__.bindEvents.apply(this,arguments)},n.prototype.position=function(e){var t,n,r,i,s,o,u;return this.element.css({top:0,left:0,display:"block",visibility:"hidden"}),o=this.button.position(),r=this.element.width(),n=this.element.height(),t=jQuery(document).height(),u=o.top+this.button.height()/2-n/2,u<o.top-100&&(u=o.top-100),u<20&&(u=20),i=this.loaded?"auto":n,u+n>=t-20&&(i=t-u-20),s=o.left,s+r>jQuery(window).width()&&(s=s-r+this.button.width()),this.element.css({top:u,left:s,height:i,display:e?"block":"none",visibility:"visible"})},n}(Mercury.Dialog)}).call(this);