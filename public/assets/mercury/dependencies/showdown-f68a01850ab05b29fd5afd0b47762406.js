// Copyright (c) 2007 John Fraser.
// Original Markdown Copyright (c) 2004-2005 John Gruber
var Showdown={};Showdown.converter=function(){var t,e,i,n=0;this.makeHtml=function(n){return t=new Array,e=new Array,i=new Array,n=n.replace(/~/g,"~T"),n=n.replace(/\$/g,"~D"),n=n.replace(/\r\n/g,"\n"),n=n.replace(/\r/g,"\n"),n="\n\n"+n+"\n\n",n=I(n),n=n.replace(/^[ \t]+$/gm,""),n=a(n),n=r(n),n=c(n),n=P(n),n=n.replace(/~D/g,"$$"),n=n.replace(/~T/g,"~"),n=n.replace(/https?\:\/\/[^"\s\<\>]*[^.,;'">\:\s\<\>\)\]\!]/g,function(t,e){var i=n.slice(0,e),s=n.slice(e);if(i.match(/<[^>]+$/)&&s.match(/^[^>]*>/))return t;var o=t.replace(/^http:\/\/github.com\//,"https://github.com/");return"<a href='"+o+"'>"+t+"</a>"}),n=n.replace(/[a-z0-9_\-+=.]+@[a-z0-9\-]+(\.[a-z0-9-]+)+/gi,function(t){return"<a href='mailto:"+t+"'>"+t+"</a>"}),n=n.replace(/[a-f0-9]{40}/gi,function(t,e){if("undefined"==typeof GitHub||"undefined"==typeof GitHub.nameWithOwner)return t;var i=n.slice(0,e),s=n.slice(e);return i.match(/@$/)||i.match(/<[^>]+$/)&&s.match(/^[^>]*>/)?t:"<a href='http://github.com/"+GitHub.nameWithOwner+"/commit/"+t+"'>"+t.substring(0,7)+"</a>"}),n=n.replace(/([a-z0-9_\-+=.]+)@([a-f0-9]{40})/gi,function(t,e,i,s){if("undefined"==typeof GitHub||"undefined"==typeof GitHub.nameWithOwner)return t;GitHub.repoName=GitHub.repoName||o();var r=n.slice(0,s),a=n.slice(s);return r.match(/\/$/)||r.match(/<[^>]+$/)&&a.match(/^[^>]*>/)?t:"<a href='http://github.com/"+e+"/"+GitHub.repoName+"/commit/"+i+"'>"+e+"@"+i.substring(0,7)+"</a>"}),n=n.replace(/([a-z0-9_\-+=.]+\/[a-z0-9_\-+=.]+)@([a-f0-9]{40})/gi,function(t,e,i){return"<a href='http://github.com/"+e+"/commit/"+i+"'>"+e+"@"+i.substring(0,7)+"</a>"}),n=n.replace(/#([0-9]+)/gi,function(t,e,i){if("undefined"==typeof GitHub||"undefined"==typeof GitHub.nameWithOwner)return t;var s=n.slice(0,i),o=n.slice(i);return""==s||s.match(/[a-z0-9_\-+=.]$/)||s.match(/<[^>]+$/)&&o.match(/^[^>]*>/)?t:"<a href='http://github.com/"+GitHub.nameWithOwner+"/issues/#issue/"+e+"'>"+t+"</a>"}),n=n.replace(/([a-z0-9_\-+=.]+)#([0-9]+)/gi,function(t,e,i,s){if("undefined"==typeof GitHub||"undefined"==typeof GitHub.nameWithOwner)return t;GitHub.repoName=GitHub.repoName||o();var r=n.slice(0,s),a=n.slice(s);return r.match(/\/$/)||r.match(/<[^>]+$/)&&a.match(/^[^>]*>/)?t:"<a href='http://github.com/"+e+"/"+GitHub.repoName+"/issues/#issue/"+i+"'>"+t+"</a>"}),n=n.replace(/([a-z0-9_\-+=.]+\/[a-z0-9_\-+=.]+)#([0-9]+)/gi,function(t,e,i){return"<a href='http://github.com/"+e+"/issues/#issue/"+i+"'>"+t+"</a>"})};var s,o=function(){return GitHub.nameWithOwner.match(/^.+\/(.+)$/)[1]},r=function(i){var i=i.replace(/^[ ]{0,3}\[(.+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?[ \t]*\n?[ \t]*(?:(\n*)["(](.+?)[")][ \t]*)?(?:\n+|\Z)/gm,function(i,n,s,o,r){return n=n.toLowerCase(),t[n]=T(s),o?o+r:(r&&(e[n]=r.replace(/"/g,"&quot;")),"")});return i},a=function(t){return t=t.replace(/\n/g,"\n\n"),t=t.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm,l),t=t.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math)\b[^\r]*?.*<\/\2>[ \t]*(?=\n+)\n)/gm,l),t=t.replace(/(\n[ ]{0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,l),t=t.replace(/(\n\n[ ]{0,3}<!(--[^\r]*?--\s*)+>[ \t]*(?=\n{2,}))/g,l),t=t.replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,l),t=t.replace(/\n\n/g,"\n")},l=function(t,e){var n=e;return n=n.replace(/\n\n/g,"\n"),n=n.replace(/^\n/,""),n=n.replace(/\n+$/g,""),n="\n\n~K"+(i.push(n)-1)+"K\n\n"},c=function(t){t=g(t);var e=b("<hr />");return t=t.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,e),t=t.replace(/^[ ]{0,2}([ ]?\-[ ]?){3,}[ \t]*$/gm,e),t=t.replace(/^[ ]{0,2}([ ]?\_[ ]?){3,}[ \t]*$/gm,e),t=v(t),t=y(t),t=C(t),t=a(t),t=k(t)},u=function(t){return t=w(t),t=h(t),t=S(t),t=f(t),t=d(t),t=D(t),t=T(t),t=x(t),t=t.replace(/  +\n/g," <br />\n")},h=function(t){var e=/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--.*?--\s*)+>)/gi;return t=t.replace(e,function(t){var e=t.replace(/(.)<\/?code>(?=.)/g,"$1`");return e=M(e,"\\`*_")})},d=function(t){return t=t.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,p),t=t.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\]\([ \t]*()<?(.*?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,p),t=t.replace(/(\[([^\[\]]+)\])()()()()()/g,p)},p=function(i,n,s,o,r,a,l,c){void 0==c&&(c="");var u=n,h=s,d=o.toLowerCase(),p=r,f=c;if(""==p)if(""==d&&(d=h.toLowerCase().replace(/ ?\n/g," ")),p="#"+d,void 0!=t[d])p=t[d],void 0!=e[d]&&(f=e[d]);else{if(!(u.search(/\(\s*\)$/m)>-1))return u;p=""}p=M(p,"*_");var m='<a href="'+p+'"';return""!=f&&(f=f.replace(/"/g,"&quot;"),f=M(f,"*_"),m+=' title="'+f+'"'),m+=">"+h+"</a>"},f=function(t){return t=t.replace(/(!\[(.*?)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,m),t=t.replace(/(!\[(.*?)\]\s?\([ \t]*()<?(\S+?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,m)},m=function(i,n,s,o,r,a,l,c){var u=n,h=s,d=o.toLowerCase(),p=r,f=c;if(f||(f=""),""==p){if(""==d&&(d=h.toLowerCase().replace(/ ?\n/g," ")),p="#"+d,void 0==t[d])return u;p=t[d],void 0!=e[d]&&(f=e[d])}h=h.replace(/"/g,"&quot;"),p=M(p,"*_");var m='<img src="'+p+'" alt="'+h+'"';return f=f.replace(/"/g,"&quot;"),f=M(f,"*_"),m+=' title="'+f+'"',m+=" />"},g=function(t){return t=t.replace(/^(.+)[ \t]*\n=+[ \t]*\n+/gm,function(t,e){return b("<h1>"+u(e)+"</h1>")}),t=t.replace(/^(.+)[ \t]*\n-+[ \t]*\n+/gm,function(t,e){return b("<h2>"+u(e)+"</h2>")}),t=t.replace(/^(\#{1,6})[ \t]*(.+?)[ \t]*\#*\n+/gm,function(t,e,i){var n=e.length;return b("<h"+n+">"+u(i)+"</h"+n+">")})},v=function(t){t+="~0";var e=/^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;return n?t=t.replace(e,function(t,e,i){var n=e,o=i.search(/[*+-]/g)>-1?"ul":"ol";n=n.replace(/\n{2,}/g,"\n\n\n");var r=s(n);return r=r.replace(/\s+$/,""),r="<"+o+">"+r+"</"+o+">\n"}):(e=/(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/g,t=t.replace(e,function(t,e,i,n){var o=e,r=i,a=n.search(/[*+-]/g)>-1?"ul":"ol",r=r.replace(/\n{2,}/g,"\n\n\n"),l=s(r);return l=o+"<"+a+">\n"+l+"</"+a+">\n"})),t=t.replace(/~0/,"")};s=function(t){return n++,t=t.replace(/\n{2,}$/,"\n"),t+="~0",t=t.replace(/(\n)?(^[ \t]*)([*+-]|\d+[.])[ \t]+([^\r]+?(\n{1,2}))(?=\n*(~0|\2([*+-]|\d+[.])[ \t]+))/gm,function(t,e,i,n,s){var o=s,r=e;return r||o.search(/\n{2,}/)>-1?o=c(A(o)):(o=v(A(o)),o=o.replace(/\n$/,""),o=u(o)),"<li>"+o+"</li>\n"}),t=t.replace(/~0/g,""),n--,t};var y=function(t){return t+="~0",t=t.replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g,function(t,e,i){var n=e,s=i;return n=_(A(n)),n=I(n),n=n.replace(/^\n+/g,""),n=n.replace(/\n+$/g,""),n="<pre><code>"+n+"\n</code></pre>",b(n)+s}),t=t.replace(/~0/,"")},b=function(t){return t=t.replace(/(^\n+|\n+$)/g,""),"\n\n~K"+(i.push(t)-1)+"K\n\n"},w=function(t){return t=t.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(t,e,i,n){var s=n;return s=s.replace(/^([ \t]*)/g,""),s=s.replace(/[ \t]*$/g,""),s=_(s),e+"<code>"+s+"</code>"})},_=function(t){return t=t.replace(/&/g,"&amp;"),t=t.replace(/</g,"&lt;"),t=t.replace(/>/g,"&gt;"),t=M(t,"*_{}[]\\",!1)},x=function(t){return t=t.replace(/(\*\*|__)(?=\S)([^\r]*?\S[*_]*)\1/g,"<strong>$2</strong>"),t=t.replace(/(\w)_(\w)/g,"$1~E95E$2"),t=t.replace(/(\*|_)(?=\S)([^\r]*?\S)\1/g,"<em>$2</em>")},C=function(t){return t=t.replace(/((^[ \t]*>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(t,e){var i=e;return i=i.replace(/^[ \t]*>[ \t]?/gm,"~0"),i=i.replace(/~0/g,""),i=i.replace(/^[ \t]+$/gm,""),i=c(i),i=i.replace(/(^|\n)/g,"$1  "),i=i.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(t,e){var i=e;return i=i.replace(/^  /gm,"~0"),i=i.replace(/~0/g,"")}),b("<blockquote>\n"+i+"\n</blockquote>")})},k=function(t){t=t.replace(/^\n+/g,""),t=t.replace(/\n+$/g,"");for(var e=t.split(/\n{2,}/g),n=new Array,s=e.length,o=0;s>o;o++){var r=e[o];r.search(/~K(\d+)K/g)>=0?n.push(r):r.search(/\S/)>=0&&(r=u(r),r=r.replace(/\n/g,"<br />"),r=r.replace(/^([ \t]*)/g,"<p>"),r+="</p>",n.push(r))}s=n.length;for(var o=0;s>o;o++)for(;n[o].search(/~K(\d+)K/)>=0;){var a=i[RegExp.$1];a=a.replace(/\$/g,"$$$$"),n[o]=n[o].replace(/~K\d+K/,a)}return n.join("\n\n")},T=function(t){return t=t.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;"),t=t.replace(/<(?![a-z\/?\$!])/gi,"&lt;")},S=function(t){return t=t.replace(/\\(\\)/g,N),t=t.replace(/\\([`*_{}\[\]()>#+-.!])/g,N)},D=function(t){return t=t.replace(/<((https?|ftp|dict):[^'">\s]+)>/gi,'<a href="$1">$1</a>'),t=t.replace(/<(?:mailto:)?([-.\w]+\@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,function(t,e){return E(P(e))})},E=function(t){function e(t){var e="0123456789ABCDEF",i=t.charCodeAt(0);return e.charAt(i>>4)+e.charAt(15&i)}var i=[function(t){return"&#"+t.charCodeAt(0)+";"},function(t){return"&#x"+e(t)+";"},function(t){return t}];return t="mailto:"+t,t=t.replace(/./g,function(t){if("@"==t)t=i[Math.floor(2*Math.random())](t);else if(":"!=t){var e=Math.random();t=e>.9?i[2](t):e>.45?i[1](t):i[0](t)}return t}),t='<a href="'+t+'">'+t+"</a>",t=t.replace(/">.+:/g,'">')},P=function(t){return t=t.replace(/~E(\d+)E/g,function(t,e){var i=parseInt(e);return String.fromCharCode(i)})},A=function(t){return t=t.replace(/^(\t|[ ]{1,4})/gm,"~0"),t=t.replace(/~0/g,"")},I=function(t){return t=t.replace(/\t(?=\t)/g,"    "),t=t.replace(/\t/g,"~A~B"),t=t.replace(/~B(.+?)~A/g,function(t,e){for(var i=e,n=4-i.length%4,s=0;n>s;s++)i+=" ";return i}),t=t.replace(/~A/g,"    "),t=t.replace(/~B/g,"")},M=function(t,e,i){var n="(["+e.replace(/([\[\]\\])/g,"\\$1")+"])";i&&(n="\\\\"+n);var s=new RegExp(n,"g");return t=t.replace(s,N)},N=function(t,e){var i=e.charCodeAt(0);return"~E"+i+"E"}};