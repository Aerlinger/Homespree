!function(){var e,t={}.hasOwnProperty,i=function(e,i){function n(){this.constructor=e}for(var r in i)t.call(i,r)&&(e[r]=i[r]);return n.prototype=i.prototype,e.prototype=new n,e.__super__=i.prototype,e};Mercury.PageEditor=function(t){function n(){return e=n.__super__.constructor.apply(this,arguments)}return i(n,t),n.prototype.save=function(){var e,t,i,n;t=null!=(i=null!=(n=this.saveUrl)?n:Mercury.saveUrl)?i:this.iframeSrc(),e=this.serializeAsXml(),console.log("saving",e)},n.prototype.serializeAsXml=function(){var e,t,i,n,r,o,s,a;e=this.serialize(),i=[];for(t in e){n=e[t],o=[],a=n.snippets;for(r in a)s=a[r],o.push("<"+r+' name="'+s.name+'"><![CDATA['+jQuery.toJSON(s.options)+"]]></"+r+">");i.push('<region name="'+t+'" type="'+n.type+'"><value>\n<![CDATA['+n.value+"]]>\n</value><snippets>"+o.join("")+"</snippets></region>")}return"<regions>"+i.join("")+"</regions>"},n}(Mercury.PageEditor)}.call(this);