(function(){this.Mercury.Toolbar.ButtonGroup=function(){function t(t,e){return this.name=t,this.options=null!=e?e:{},this.build(),this.bindEvents(),this.regions=this.options._regions,this.element}return t.prototype.build=function(){return this.element=jQuery("<div>",{"class":"mercury-button-group mercury-"+this.name+"-group"}),this.options._context||this.options._regions?this.element.addClass("disabled"):void 0},t.prototype.bindEvents=function(){var t=this;return Mercury.on("region:update",function(e,i){var n,s;return n=Mercury.Toolbar.ButtonGroup.contexts[t.name],n&&i.region&&"function"===jQuery.type(i.region.currentElement)?(s=i.region.currentElement(),s.length&&n.call(t,s,i.region.element)?t.element.removeClass("disabled"):t.element.addClass("disabled")):void 0}),Mercury.on("region:focused",function(e,i){if(t.regions&&i.region&&i.region.type()){if(!(t.regions.indexOf(i.region.type())>-1))return t.element.addClass("disabled");if(!t.options._context)return t.element.removeClass("disabled")}}),Mercury.on("region:blurred",function(){return t.options.regions?t.element.addClass("disabled"):void 0})},t}(),this.Mercury.Toolbar.ButtonGroup.contexts={table:function(t,e){return!!t.closest("table",e).length}}}).call(this);