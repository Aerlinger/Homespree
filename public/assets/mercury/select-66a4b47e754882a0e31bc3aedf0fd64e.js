(function(){var t={}.hasOwnProperty,e=function(e,i){function n(){this.constructor=e}for(var s in i)t.call(i,s)&&(e[s]=i[s]);return n.prototype=i.prototype,e.prototype=new n,e.__super__=i.prototype,e};this.Mercury.Select=function(t){function i(t,e,n){this.url=t,this.name=e,this.options=null!=n?n:{},i.__super__.constructor.apply(this,arguments)}return e(i,t),i.prototype.build=function(){var t;return this.element=jQuery("<div>",{"class":"mercury-select mercury-"+this.name+"-select loading",style:"display:none"}),this.element.appendTo(null!=(t=jQuery(this.options.appendTo).get(0))?t:"body")},i.prototype.bindEvents=function(){var t=this;return Mercury.on("hide:dialogs",function(e,i){return i!==t?t.hide():void 0}),this.element.on("mousedown",function(t){return t.preventDefault()}),i.__super__.bindEvents.apply(this,arguments)},i.prototype.position=function(t){var e,i,n,s,r,o,a;return this.element.css({top:0,left:0,display:"block",visibility:"hidden"}),o=this.button.position(),n=this.element.width(),i=this.element.height(),e=jQuery(document).height(),a=o.top+this.button.height()/2-i/2,o.top-100>a&&(a=o.top-100),20>a&&(a=20),s=this.loaded?"auto":i,a+i>=e-20&&(s=e-a-20),r=o.left,r+n>jQuery(window).width()&&(r=r-n+this.button.width()),this.element.css({top:a,left:r,height:s,display:t?"block":"none",visibility:"visible"})},i}(Mercury.Dialog)}).call(this);