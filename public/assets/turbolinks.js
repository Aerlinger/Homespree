(function(){var e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M,_,D,P,H,B,j,F,I,q,R,U,z,W={}.hasOwnProperty,X=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};w=!1,l=null,A=document.location.href,x=null,k={},a=null,B=((z=document.cookie.match(/request_method=(\w+)/))!=null?z[1].toUpperCase():void 0)||"",U=null,R=function(e){return i?(s(),O(e),m(e)):document.location.href=e},m=function(e){var n,r=this;return q("page:fetch"),n=H(e),U&&U.abort(),U=new XMLHttpRequest,U.open("GET",n,!0),U.setRequestHeader("Accept","text/html, application/xhtml+xml, application/xml"),U.setRequestHeader("X-XHR-Referer",A),U.onabort=function(){return U=null},U.onload=function(){var e;return e=a(U.responseText),t(e)?document.location.reload():(o.apply(null,p(e)),M(U),document.location.hash?document.location.href=document.location.href:F(),q("page:load")),U=null},U.onerror=function(){return document.location.href=e,U=null},U.send()},v=function(e){var t;return s(),(t=k[e.position])?(o(t.title,t.body),L(t),q("page:restore")):m(document.location.href)},s=function(){return P(),k[l.position]={url:document.location.href,body:document.body,title:document.title,positionY:window.pageYOffset,positionX:window.pageXOffset},u(10)},u=function(e){var t,n,r;r=[];for(t in k){if(!W.call(k,t))continue;n=k[t],t<=l.position-e?r.push(k[t]=null):r.push(void 0)}return r},o=function(e,t,n){return document.title=e,document.documentElement.replaceChild(t,document.body),n&&c(),l=window.history.state,q("page:change")},c=function(){var e,t,n,r,i,s,o,u,a,f,l,c,h;f=document.body.getElementsByTagName("script"),h=[];for(s=0,u=f.length;s<u;s++){i=f[s];if((l=i.type)!==""&&l!=="text/javascript")continue;t=document.createElement("script"),c=i.attributes;for(o=0,a=c.length;o<a;o++)e=c[o],t.setAttribute(e.name,e.value);t.appendChild(document.createTextNode(i.innerHTML)),r=i.parentNode,n=i.nextSibling,r.removeChild(i),h.push(r.insertBefore(t,n))}return h},O=function(e){if(e!==document.location.href)return A=document.location.href,window.history.pushState({turbolinks:!0,position:l.position+1},"",e)},M=function(e){var t;if((t=e.getResponseHeader("X-XHR-Current-Location"))&&t!==document.location.pathname+document.location.search)return window.history.replaceState(l,"",t+document.location.hash)},D=function(){return window.history.replaceState({turbolinks:!0,position:Date.now()},"",document.location.href)},_=function(){return l=window.history.state},P=function(){if(!w)return D(),_(),a=n(),w=!0},L=function(e){return window.scrollTo(e.positionX,e.positionY)},F=function(){return window.scrollTo(0,0)},H=function(e){var t;return t=e,e.href==null&&(t=document.createElement("A"),t.href=e),t.href.replace(t.hash,"")},q=function(e){var t;return t=document.createEvent("Events"),t.initEvent(e,!0,!0),document.dispatchEvent(t)},d=function(e){var t,n,r,i,s;i=e.head.childNodes,s=[];for(n=0,r=i.length;n<r;n++)t=i[n],(typeof t.getAttribute==="function"?t.getAttribute("data-turbolinks-track"):void 0)!=null&&s.push(t.src||t.href);return s},t=function(e){var t;return x||(x=d(document)),t=d(e),t.length!==x.length||S(t,x).length!==x.length},S=function(e,t){var n,r,i,s,o;e.length>t.length&&(s=[t,e],e=s[0],t=s[1]),o=[];for(r=0,i=e.length;r<i;r++)n=e[r],X.call(t,n)>=0&&o.push(n);return o},p=function(e){var t;return t=e.querySelector("title"),[t!=null?t.textContent:void 0,e.body,"runScripts"]},n=function(){var e,t,n,r;return e=function(e){return(new DOMParser).parseFromString(e,"text/html")},t=function(e){var t;return t=document.implementation.createHTMLDocument(""),t.open("replace"),t.write(e),t.close(),t},window.DOMParser&&(n=e("<html><body><p>test")),(n!=null?(r=n.body)!=null?r.childNodes.length:void 0:void 0)===1?e:t},E=function(e){if(!e.defaultPrevented)return document.removeEventListener("click",g),document.addEventListener("click",g)},g=function(e){var t;if(!e.defaultPrevented){t=h(e);if(t.nodeName==="A"&&!y(e,t))return R(t.href),e.preventDefault()}},h=function(e){var t;t=e.target;while(!!t.parentNode&&t.nodeName!=="A")t=t.parentNode;return t},f=function(e){return location.protocol!==e.protocol||location.host!==e.host},e=function(e){return(e.hash&&H(e))===H(location)||e.href===location.href+"#"},N=function(e){return e.href.match(/\.[a-z]+(\?.*)?$/g)&&!e.href.match(/\.html?(\?.*)?$/g)},T=function(e){var t;while(!t&&e!==document)t=e.getAttribute("data-no-turbolink")!=null,e=e.parentNode;return t},I=function(e){return e.target.length!==0},C=function(e){return e.which>1||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey},y=function(t,n){return f(n)||e(n)||N(n)||T(n)||I(n)||C(t)},b=function(){return document.addEventListener("click",E,!0),window.addEventListener("popstate",function(e){var t;if((t=e.state)!=null?t.turbolinks:void 0)return v(e.state)})},i=window.history&&window.history.pushState&&window.history.replaceState&&window.history.state!==void 0,r=!navigator.userAgent.match(/CriOS\//),j=B==="GET"||B==="",i&&r&&j&&b(),this.Turbolinks={visit:R}}).call(this);